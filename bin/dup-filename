#!/usr/bin/env ruby

require 'duplicated_filename_checker'

unless ARGV.size > 0
  raise ArgumentError.new('Specify the argument. Argument is survey target root paths.')
end

servey_root_paths = ARGV
duplicated_file_profiles = DuplicatedFilenameChecker::Check.new(*servey_root_paths).execute

duplicated_file_profiles.each do |basename, file_profiles|
  puts "## #{basename}"

  file_profiles.each do |file_profile|
    puts "#{file_profile.path}"
  end

  puts "\n"
end